<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seashore Travels</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="aistyle.css">
  <link href="https://fonts.googleapis.com/css2?family=Poetsen+One&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Hind+Madurai:wght@300;400;500;600;700&family=Odibee+Sans&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Honk&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Sofia+Sans:ital,wght@0,1..1000;1,1..1000&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Silkscreen:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Bad+Script&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair:ital,opsz,wght@0,5..1200,800;1,5..1200,800&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&display=swap"
    rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
  <div class="top-header">
    <div class="top-left">
      <div class="logo-header">
        <img class="logo" src="./assets/images/logo.png" alt="logo">
        <div class="sotc-box">S</div>
        <div class="sotc-box">T</div>
        <div class="sotc-box">T</div>
        <h1 class="site-title">Seashore Tours & Travels</h1>
      </div>
      <div class="contact-info">
        <div class="toll-free">
          üáÆüá≥ Toll Free: 1800 209 3344 | üá∫üá∏ Toll Free: 1844 231 5928
        </div>
        <a class="link" href="#">www.seashore.com</a>
      </div>
    </div>
    <div class="search-box">
      <input type="text" placeholder="Search...." />
      <button type="button">üîç</button>
    </div>
    <div class="top-links">
      <a href="#"><img class="icon2" src="./assets/images/care.png" alt="we care Icon">WeCare</a>
      <a href="#"><img class="icon" src="./assets/images/stores.png" alt="Location Icon">Stores</a>
      <a href="#"><img class="icon1" src="./assets/images/Login.png" alt="Login Icon">Login</a>
    </div>
  </div>

  <section id="match-section">
    <h2>Explore Smarter with Seashore - Your AI Travel Companion</h2>
    <p>Choose Your Interests (Select at least 3)</p>
    <form id="travelForm">
      <div class="checkbox-grid">
        <input type="checkbox" name="interest" value="Adventure" id="adv">
        <label for="adv"><img src="./assets/ai/adv.png" alt="Adventure Icon">Adventure</label>

        <input type="checkbox" name="interest" value="Nature" id="nature">
        <label for="nature"><img src="./assets/ai/nature.png" alt="Nature Icon">Nature</label>

        <input type="checkbox" name="interest" value="History" id="history">
        <label for="history"><img src="./assets/ai/history.png" alt="History Icon">History</label>

        <input type="checkbox" name="interest" value="Food" id="food">
        <label for="food"><img src="./assets/ai/food.png" alt="Food Icon">Food</label>

        <input type="checkbox" name="interest" value="Art" id="art">
        <label for="art"><img src="./assets/ai/art.png" alt="Art Icon">Art</label>

        <input type="checkbox" name="interest" value="Technology" id="tech">
        <label for="tech"><img src="./assets/ai/technology.png" alt="Technology Icon">Technology</label>

        <input type="checkbox" name="interest" value="Sports" id="sports">
        <label for="sports"><img src="./assets/ai/sports.png" alt="Sports Icon">Sports</label>

        <input type="checkbox" name="interest" value="Photography" id="photography">
        <label for="photography"><img src="./assets/ai/photography.png" alt="Photography Icon">Photography</label>

        <input type="checkbox" name="interest" value="Music" id="music">
        <label for="music"><img src="./assets/ai/music.png" alt="Music Icon">Music</label>
      </div>

      <h3>Select Purpose</h3>
      <select id="purposeSelect" required>
        <option value="" disabled selected>Select purpose</option>
        <option value="Relaxation">Relaxation</option>
        <option value="Adventure">Adventure</option>
        <option value="Cultural Exploration">Cultural Exploration</option>
      </select>

      <h3>Traveling With</h3>
      <select id="withWhomSelect" required>
        <option value="" disabled selected>Select who you're traveling with</option>
        <option value="Solo">Solo</option>
        <option value="Friends">Friends</option>
        <option value="Family">Family</option>
        <option value="Partner">Partner</option>
      </select>

      <br /><br />
      <button type="submit">Get Matches</button>
    </form>

    <div id="results"></div>
  </section>

  <script>
    document.getElementById('travelForm').addEventListener('submit', async function (e) {
      e.preventDefault();

      const checkedBoxes = document.querySelectorAll('input[name=interest]:checked');
      if (checkedBoxes.length < 3) {
        alert("Please select at least 3 interests.");
        return;
      }

      const interests = Array.from(checkedBoxes).map(cb => cb.value);
      const purpose = document.getElementById('purposeSelect').value;
      const withWhom = document.getElementById('withWhomSelect').value;

      if (!purpose) {
        alert("Please select a purpose.");
        return;
      }

      if (!withWhom) {
        alert("Please select who you're traveling with.");
        return;
      }

      const response = await fetch('http://127.0.0.1:5000/match', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ interests, purpose, with_whom: withWhom })
      });

      const results = await response.json();

      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = '<h2>Match Results</h2><div class="card-grid"></div>';
      const cardGrid = resultsDiv.querySelector('.card-grid');

      results.forEach(r => {
        cardGrid.innerHTML += `
          <div class="result-card">
            <h3>${r.country} - ${r.match_percentage}% match</h3>
            <p><strong>Cities to visit:</strong> ${r.cities.join(', ')}</p>
            <p><strong>Purpose:</strong> ${purpose}</p>
            <p><strong>Traveling With:</strong> ${withWhom}</p>
          </div>
        `;
      });
    });
  </script>
</body>

</html>
